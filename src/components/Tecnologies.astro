---
import Git from "./icons/Git.astro";
import GitHub from "./icons/GitHub.astro";
import ReactI from "./icons/React.astro";
import TypeScriptI from "./icons/TypeScriptI.astro";
import HTMLI from "./icons/HTMLI.astro";
import CSSI from "./icons/CSSI.astro";
import JSIcon from "./icons/JSIcon.astro";
import NodeIcon from "./icons/Nodejs.astro";
import PostgresIcon from "./icons/PostgresIcon.astro";
import AngularI from "./icons/Angular.astro";
import PhpI from "./icons/Php.astro";
import MySqlI from "./icons/MySql.astro";
import AstroI from "./icons/AstroI.astro";
import TailwindI from "./icons/Tailwind.astro";

const SKILLS = [
  { name: "HTML5", icon: HTMLI },
  { name: "CSS3", icon: CSSI },
  { name: "JavaScript", icon: JSIcon },
  { name: "NodeJS", icon: NodeIcon },
  { name: "PostgreSQL", icon: PostgresIcon },
  { name: "Angular", icon: AngularI },
  { name: "PHP", icon: PhpI },
  { name: "Git", icon: Git },
  { name: "GitHub", icon: GitHub },
  { name: "ReactJS", icon: ReactI },
  { name: "TypeScript", icon: TypeScriptI },
  { name: "MySQL", icon: MySqlI },
  { name: "Astro", icon: AstroI },
  { name: "Tailwind CSS", icon: TailwindI },
];

---

<section class="w-full flex flex-col relative overflow-hidden">

  <!-- FILA IZQUIERDA → DERECHA -->
  <div class="wrapper">
    {SKILLS.map(({ name, icon: Icon }, i) => (
      <div class={`itemLeft item${i + 1}`}>
        <Icon class="w-12 h-12 mx-auto" />
        <span class="block text-center text-sm mt-1 text-gray-300">
          {name}
        </span>
      </div>
    ))}
  </div>

  <!-- FILA DERECHA → IZQUIERDA -->
  <div class="wrapper">
    {SKILLS.map(({ name, icon: Icon }, i) => (
      <div class={`itemRight item${i + 1}`}>
        <Icon class="w-12 h-12 mx-auto" />
        <span class="block text-center text-sm mt-1 text-gray-300">
          {name}
        </span>
      </div>
    ))}
  </div>

</section>


<style>

  .wrapper {
    width: 100%;
    height: 110px;
    position: relative;
    overflow: hidden;

    mask-image: linear-gradient(
      to right,
      rgba(0,0,0,0),
      rgba(0,0,0,1) 20%,
      rgba(0,0,0,1) 80%,
      rgba(0,0,0,0)
    );
  }

  .itemLeft,
  .itemRight {
    width: 160px;
    height: 110px;
    position: absolute;
    display: flex;
    flex-direction: column;
    justify-content: center;
    animation-duration: 50s;
    animation-timing-function: linear;
    animation-iteration-count: infinite;
  }

  /* ANIMACIÓN IZQUIERDA → DERECHA */
  @keyframes scrollLeft {
    to {
      left: -160px;
    }
  }

  /* ANIMACIÓN DERECHA → IZQUIERDA */
  @keyframes scrollRight {
    to {
      right: -160px;
    }
  }

  .itemLeft {
    left: max(calc(160px * 14), 100%);
    animation-name: scrollLeft;
  }

  .itemRight {
    right: max(calc(160px * 14), calc(100% + 160px));
    animation-name: scrollRight;
  }

  /* DELAYS (uno por ítem, igual que tu ejemplo) */
  /* SKILLS.length = 14 */
  /* duración = 50s */

  .item1 { animation-delay: calc(50s / 14 * (14 - 1) * -1); }
  .item2 { animation-delay: calc(50s / 14 * (14 - 2) * -1); }
  .item3 { animation-delay: calc(50s / 14 * (14 - 3) * -1); }
  .item4 { animation-delay: calc(50s / 14 * (14 - 4) * -1); }
  .item5 { animation-delay: calc(50s / 14 * (14 - 5) * -1); }
  .item6 { animation-delay: calc(50s / 14 * (14 - 6) * -1); }
  .item7 { animation-delay: calc(50s / 14 * (14 - 7) * -1); }
  .item8 { animation-delay: calc(50s / 14 * (14 - 8) * -1); }
  .item9 { animation-delay: calc(50s / 14 * (14 - 9) * -1); }
  .item10 { animation-delay: calc(50s / 14 * (14 - 10) * -1); }
  .item11 { animation-delay: calc(50s / 14 * (14 - 11) * -1); }
  .item12 { animation-delay: calc(50s / 14 * (14 - 12) * -1); }
  .item13 { animation-delay: calc(50s / 14 * (14 - 13) * -1); }
  .item14 { animation-delay: calc(50s / 14 * (14 - 14) * -1); }

</style>
